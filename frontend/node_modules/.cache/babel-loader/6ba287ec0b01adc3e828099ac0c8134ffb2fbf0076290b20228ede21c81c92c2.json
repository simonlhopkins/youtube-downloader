{"ast":null,"code":"var _jsxFileName = \"/Users/simonhopkins/Desktop/Personal/react/music-i-listen-to/src/PlaylistContainer.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nasync function getAccessToken() {\n  console.log(\"getting access token\");\n  const client_id = '1b352e5ba35049b1918e0b310494107e';\n  const client_secret = 'b79d65aa4cca4e389c38ad01497bb981';\n  const data = new URLSearchParams();\n  data.append(\"grant_type\", \"client_credentials\");\n  data.append(\"client_id\", client_id);\n  data.append(\"client_secret\", client_secret);\n  return fetch(\"https://accounts.spotify.com/api/token\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\"\n    },\n    body: data\n  }).then(response => response.json()).then(data => {\n    console.log(\"setting access token\");\n    // setAccessToken(data.access_token);\n    return data.access_token;\n  }).catch(error => {\n    return '';\n  });\n}\nfunction PlaylistContainer() {\n  _s();\n  const [accessToken, setAccessToken] = useState('');\n  console.log('render');\n  useEffect(async () => {\n    const hello = async () => {\n      const token = await getAccessToken();\n    };\n    const accessToken = await hello();\n  }, []);\n  useEffect(() => {\n    console.log(\"access token: \", accessToken);\n  }, [accessToken]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"access token is: \", accessToken == '' ? \"loading\" : accessToken]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n_s(PlaylistContainer, \"+0Ta4lRiLdfkqdyqqvTBbv0cYVI=\");\n_c = PlaylistContainer;\nexport default PlaylistContainer;\nvar _c;\n$RefreshReg$(_c, \"PlaylistContainer\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","getAccessToken","console","log","client_id","client_secret","data","URLSearchParams","append","fetch","method","headers","body","then","response","json","access_token","catch","error","PlaylistContainer","_s","accessToken","setAccessToken","hello","token","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/simonhopkins/Desktop/Personal/react/music-i-listen-to/src/PlaylistContainer.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nasync function getAccessToken() {\n\n    console.log(\"getting access token\");\n    const client_id = '1b352e5ba35049b1918e0b310494107e';\n    const client_secret = 'b79d65aa4cca4e389c38ad01497bb981';\n  \n    const data = new URLSearchParams();\n    data.append(\"grant_type\", \"client_credentials\");\n    data.append(\"client_id\", client_id);\n    data.append(\"client_secret\", client_secret);\n    return fetch(\"https://accounts.spotify.com/api/token\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: data\n  \n    }).then(response => response.json())\n      .then(data => {\n        console.log(\"setting access token\");\n        // setAccessToken(data.access_token);\n        return data.access_token;\n  \n      }).catch(error => {\n        return '';\n      });\n  \n}\n\nfunction PlaylistContainer(){\n    const [accessToken, setAccessToken] = useState('');\n\n    \n    \n\n    console.log('render');\n    useEffect(async ()=>{\n        const hello = async ()=>{\n            const token = await getAccessToken()\n        }\n        const accessToken = await hello();\n    }, [])\n\n    useEffect(()=>{\n        console.log(\"access token: \", accessToken);\n    }, [accessToken]);\n\n\n    return(\n        <div>\n            <p>access token is: {accessToken == ''?\"loading\":accessToken}</p>\n        </div>\n    )\n}\n\nexport default PlaylistContainer;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,eAAeC,cAAcA,CAAA,EAAG;EAE5BC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;EACnC,MAAMC,SAAS,GAAG,kCAAkC;EACpD,MAAMC,aAAa,GAAG,kCAAkC;EAExD,MAAMC,IAAI,GAAG,IAAIC,eAAe,CAAC,CAAC;EAClCD,IAAI,CAACE,MAAM,CAAC,YAAY,EAAE,oBAAoB,CAAC;EAC/CF,IAAI,CAACE,MAAM,CAAC,WAAW,EAAEJ,SAAS,CAAC;EACnCE,IAAI,CAACE,MAAM,CAAC,eAAe,EAAEH,aAAa,CAAC;EAC3C,OAAOI,KAAK,CAAC,wCAAwC,EAAE;IACrDC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEN;EAER,CAAC,CAAC,CAACO,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACP,IAAI,IAAI;IACZJ,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;IACnC;IACA,OAAOG,IAAI,CAACU,YAAY;EAE1B,CAAC,CAAC,CAACC,KAAK,CAACC,KAAK,IAAI;IAChB,OAAO,EAAE;EACX,CAAC,CAAC;AAER;AAEA,SAASC,iBAAiBA,CAAA,EAAE;EAAAC,EAAA;EACxB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAKlDI,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;EACrBN,SAAS,CAAC,YAAU;IAChB,MAAM0B,KAAK,GAAG,MAAAA,CAAA,KAAU;MACpB,MAAMC,KAAK,GAAG,MAAMvB,cAAc,CAAC,CAAC;IACxC,CAAC;IACD,MAAMoB,WAAW,GAAG,MAAME,KAAK,CAAC,CAAC;EACrC,CAAC,EAAE,EAAE,CAAC;EAEN1B,SAAS,CAAC,MAAI;IACVK,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEkB,WAAW,CAAC;EAC9C,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EAGjB,oBACIrB,OAAA;IAAAyB,QAAA,eACIzB,OAAA;MAAAyB,QAAA,GAAG,mBAAiB,EAACJ,WAAW,IAAI,EAAE,GAAC,SAAS,GAACA,WAAW;IAAA;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChE,CAAC;AAEd;AAACT,EAAA,CAxBQD,iBAAiB;AAAAW,EAAA,GAAjBX,iBAAiB;AA0B1B,eAAeA,iBAAiB;AAAC,IAAAW,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}